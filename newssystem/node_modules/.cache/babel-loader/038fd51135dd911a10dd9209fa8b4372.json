{"ast":null,"code":"var _jsxFileName = \"/Users/sophiali/Desktop/news-system-react-antd/newssystem/src/views/sandbox/user-manage/UserList.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Table, Tag, Modal, Popover, Switch } from 'antd';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  confirm\n} = Modal;\nexport default function UserList() {\n  _s();\n\n  const [dataSource, setDataSource] = useState([]);\n  const [isAddVisible, setIsAddVisible] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/users?_expand=role\").then(res => {\n      setDataSource(res.data);\n    });\n  }, []);\n  const columns = [{\n    title: 'Region Area',\n    dataIndex: 'region',\n    render: region => {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        children: region === \"\" ? \"Global\" : region\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 16\n      }, this);\n    }\n  }, {\n    title: 'User Title',\n    dataIndex: 'role',\n    render: role => {\n      return role === null || role === void 0 ? void 0 : role.roleName;\n    }\n  }, {\n    title: 'User Name',\n    dataIndex: 'username'\n  }, {\n    title: 'User State',\n    dataIndex: 'roleState',\n    render: (roleState, item) => {\n      return /*#__PURE__*/_jsxDEV(Switch, {\n        checked: roleState,\n        disabled: item.default\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 16\n      }, this);\n    }\n  }, {\n    title: 'Handle',\n    render: item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"danger\",\n          shape: \"circle\",\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this),\n          disabled: item.default,\n          onClick: () => showConfirm(item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          shape: \"circle\",\n          disabled: item.default,\n          icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n\n  const switchMethod = item => {\n    item.pagepermisson = item.pagepermisson === 1 ? 0 : 1; //console.log(item)\n\n    setDataSource([...dataSource]);\n\n    if (item.grade === 1) {\n      axios.patch(`http://localhost:5000/rights/${item.id}`, {\n        pagepermisson: item.pagepermisson\n      });\n    } else {\n      axios.patch(`http://localhost:5000/children/${item.id}`, {\n        pagepermisson: item.pagepermisson\n      });\n    }\n  };\n\n  const showConfirm = item => {\n    confirm({\n      title: 'Do you Want to delete these items?',\n      icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this),\n\n      //content: 'Some descriptions',\n      onOk() {\n        //console.log('OK');\n        deleteMethod(item);\n      },\n\n      onCancel() {//console.log('Cancel');\n      }\n\n    });\n  };\n\n  const deleteMethod = item => {\n    console.log(item);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: 11,\n      children: \"ADD USER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      dataSource: dataSource,\n      columns: columns,\n      pagination: {\n        pageSize: 5\n      },\n      rowKey: item => item.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: isAddVisible,\n      title: \"Add A User\",\n      okText: \"Confirm\",\n      cancelText: \"Cancel\",\n      onCancel: setIsAddVisible(false),\n      onOk: () => {\n        console.log('added');\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        layout: \"vertical\",\n        name: \"form_in_modal\",\n        initialValues: {\n          modifier: 'public'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"title\",\n          label: \"Title\",\n          rules: [{\n            required: true,\n            message: 'Please input the title of collection!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"description\",\n          label: \"Description\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"textarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"modifier\",\n          className: \"collection-create-form_last-form-item\",\n          children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Radio, {\n              value: \"public\",\n              children: \"Public\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Radio, {\n              value: \"private\",\n              children: \"Private\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 1\n    }, this), \");\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserList, \"lzCEsJ1kjk2viF/Bt9H+gqV6OkA=\");\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["Button","Table","Tag","Modal","Popover","Switch","DeleteOutlined","EditOutlined","axios","React","useEffect","useState","ExclamationCircleOutlined","confirm","UserList","dataSource","setDataSource","isAddVisible","setIsAddVisible","get","then","res","data","columns","title","dataIndex","render","region","role","roleName","roleState","item","default","showConfirm","switchMethod","pagepermisson","grade","patch","id","icon","onOk","deleteMethod","onCancel","console","log","pageSize","form","modifier","required","message"],"sources":["/Users/sophiali/Desktop/news-system-react-antd/newssystem/src/views/sandbox/user-manage/UserList.js"],"sourcesContent":["import {\n  Button,\n  Table,\n  Tag,\n  Modal,\n  Popover,\n  Switch\n} from 'antd'\nimport {\n  DeleteOutlined,\n  EditOutlined,\n} from '@ant-design/icons';\nimport axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nconst { confirm } = Modal;\n\nexport default function UserList() {\n\n  const [dataSource, setDataSource] = useState([])\n  const [isAddVisible, setIsAddVisible] = useState([])\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/users?_expand=role\")\n      .then(res => {\n        setDataSource(res.data)\n      })\n  }, [])\n\n  const columns = [\n    {\n      title: 'Region Area',\n      dataIndex: 'region',\n      render: (region) => {\n        return <b>{region===\"\"? \"Global\":region}</b>\n      }\n    },\n    {\n      title: 'User Title',\n      dataIndex: 'role',\n      render:(role) => {\n        return role?.roleName\n      }\n    },\n    {\n      title: 'User Name',\n      dataIndex: 'username',\n    },\n    {\n      title: 'User State',\n      dataIndex: 'roleState',\n      render: (roleState, item) => {\n        return <Switch checked={roleState} disabled={item.default}></Switch>\n      }\n    },\n    {\n      title: 'Handle',\n      render: (item) => {\n        return (\n          <div>\n            <Button \n              type=\"danger\" \n              shape=\"circle\" \n              icon={<DeleteOutlined />} \n              disabled={item.default}\n              onClick={() => showConfirm(item)}\n            />\n            <Button\n              type=\"primary\"\n              shape=\"circle\"\n              disabled={item.default}\n              icon={<EditOutlined />}\n            />\n          </div>\n        )\n      }\n    },\n  ];\n\n  const switchMethod = (item) => {\n    item.pagepermisson = item.pagepermisson === 1 ? 0 : 1\n    //console.log(item)\n    setDataSource([...dataSource])\n    if (item.grade === 1) {\n      axios.patch(`http://localhost:5000/rights/${item.id}`, {\n        pagepermisson: item.pagepermisson\n      })\n    } else {\n      axios.patch(`http://localhost:5000/children/${item.id}`, {\n        pagepermisson: item.pagepermisson\n      })\n    }\n  }\n\n  const showConfirm = (item) => {\n    confirm({\n      title: 'Do you Want to delete these items?',\n      icon: <ExclamationCircleOutlined />,\n      //content: 'Some descriptions',\n\n      onOk() {\n        //console.log('OK');\n        deleteMethod(item);\n      },\n\n      onCancel() {\n        //console.log('Cancel');\n      },\n    });\n  };\n\n  const deleteMethod = (item) => {\n    console.log(item)\n\n  }\n\n  return (\n    <div>\n      <Button \n        type='primary'\n        onClick={11}\n      >\n        ADD USER\n      </Button>\n      <Table\n        dataSource={dataSource}\n        columns={columns}\n        pagination={{\n          pageSize: 5\n        }}\n        rowKey={item => item.id}\n      />\n\n<Modal\n      open={isAddVisible}\n      title=\"Add A User\"\n      okText=\"Confirm\"\n      cancelText=\"Cancel\"\n      onCancel={setIsAddVisible(false)}\n      onOk={() => {\n        console.log('added')\n      }}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n        initialValues={{\n          modifier: 'public',\n        }}\n      >\n        <Form.Item\n          name=\"title\"\n          label=\"Title\"\n          rules={[\n            {\n              required: true,\n              message: 'Please input the title of collection!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item name=\"description\" label=\"Description\">\n          <Input type=\"textarea\" />\n        </Form.Item>\n        <Form.Item name=\"modifier\" className=\"collection-create-form_last-form-item\">\n          <Radio.Group>\n            <Radio value=\"public\">Public</Radio>\n            <Radio value=\"private\">Private</Radio>\n          </Radio.Group>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}