{"ast":null,"code":"var _jsxFileName = \"/Users/sophiali/Desktop/news-system-react-antd/newssystem/src/components/sandbox/NewsRouter.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport Home from '../../views/sandbox/home/Home';\nimport NewsAdd from '../../views/sandbox/news-manage/NewsAdd';\nimport NewsCategory from '../../views/sandbox/news-manage/NewsCategory';\nimport NewsDraft from '../../views/sandbox/news-manage/NewsDraft';\nimport NoPerssion from '../../views/sandbox/noperssion/NoPerssion';\nimport Offline from '../../views/sandbox/publish-manage/Offline';\nimport Published from '../../views/sandbox/publish-manage/Published';\nimport UnPublished from '../../views/sandbox/publish-manage/UnPublished';\nimport Review from '../../views/sandbox/review-manage/Review';\nimport ReviewList from '../../views/sandbox/review-manage/ReviewList';\nimport RightList from '../../views/sandbox/right-manage/RightList';\nimport RoleList from '../../views/sandbox/right-manage/RoleList';\nimport UserList from '../../views/sandbox/user-manage/UserList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocalRouterMap = {\n  \"/home\": /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 14\n  }, this),\n  \"/user-manage/list\": /*#__PURE__*/_jsxDEV(UserList, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 26\n  }, this),\n  \"/right-manage/role/list\": /*#__PURE__*/_jsxDEV(RoleList, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 32\n  }, this),\n  \"/right-manage/right/list\": /*#__PURE__*/_jsxDEV(RightList, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 33\n  }, this),\n  \"/news-manage/add\": /*#__PURE__*/_jsxDEV(NewsAdd, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 25\n  }, this),\n  \"/news-manage/draft\": /*#__PURE__*/_jsxDEV(NewsDraft, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 27\n  }, this),\n  \"/news-manage/category\": /*#__PURE__*/_jsxDEV(NewsCategory, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 30\n  }, this),\n  \"/audit-manage/audit\": /*#__PURE__*/_jsxDEV(Review, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 27\n  }, this),\n  \"/audit-manage/list\": /*#__PURE__*/_jsxDEV(ReviewList, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 27\n  }, this),\n  \"/publish-manage/unpublished\": /*#__PURE__*/_jsxDEV(UnPublished, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 36\n  }, this),\n  \"/publish-manage/published\": /*#__PURE__*/_jsxDEV(Published, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 34\n  }, this),\n  \"/publish-manage/sunset\": /*#__PURE__*/_jsxDEV(Offline, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 31\n  }, this)\n};\nexport default function NewsRouter() {\n  _s();\n\n  const [backRouteList, setBackRouteList] = useState([]);\n  useEffect(() => {\n    Promise.all([axios.get(\"http://localhost:5000/rights\"), axios.get(\"http://localhost:5000/children\")]).then(res => {\n      //console.log(res)\n      setBackRouteList([...res[0].data, ...res[1].data]);\n    });\n  }, []); //console.log(backRouteList)\n\n  const checkRoute = item => {\n    return LocalRouterMap[item.key] && item.pagepermisson;\n  };\n\n  const checkUserPermission = () => {\n    return true;\n  };\n\n  return (\n    /*#__PURE__*/\n    // <Routes>\n    //     <Route path=\"/home\" element={<Home />} />\n    //     <Route path=\"/user-manage/list\" element={<UserList />} />\n    //     <Route path=\"/right-manage/role/list\" element={<RoleList />} />\n    //     <Route path=\"/right-manage/right/list\" element={<RightList />} />\n    //     {/* all other urls redirect to login page */}\n    //     <Route path=\"*\" element={<NoPerssion />} />\n    // </Routes>\n    _jsxDEV(Routes, {\n      children: [backRouteList.map(item => {\n        if (checkRoute(item) && checkUserPermission()) {\n          return /*#__PURE__*/_jsxDEV(Route, {\n            path: item.key,\n            element: LocalRouterMap[item.key]\n          }, item.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 36\n          }, this);\n        }\n\n        return /*#__PURE__*/_jsxDEV(Route, {\n          element: /*#__PURE__*/_jsxDEV(NoPerssion, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 64\n          }, this)\n        }, item.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }, this);\n      }), backRouteList.length > 0 && /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(NoPerssion, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 70\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(NewsRouter, \"P41jmPBcOYWcz/ropu/ee581Mjs=\");\n\n_c = NewsRouter;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsRouter\");","map":{"version":3,"names":["axios","React","useEffect","useState","Route","Routes","Home","NewsAdd","NewsCategory","NewsDraft","NoPerssion","Offline","Published","UnPublished","Review","ReviewList","RightList","RoleList","UserList","LocalRouterMap","NewsRouter","backRouteList","setBackRouteList","Promise","all","get","then","res","data","checkRoute","item","key","pagepermisson","checkUserPermission","map","length"],"sources":["/Users/sophiali/Desktop/news-system-react-antd/newssystem/src/components/sandbox/NewsRouter.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport Home from '../../views/sandbox/home/Home'\nimport NewsAdd from '../../views/sandbox/news-manage/NewsAdd'\nimport NewsCategory from '../../views/sandbox/news-manage/NewsCategory'\nimport NewsDraft from '../../views/sandbox/news-manage/NewsDraft'\nimport NoPerssion from '../../views/sandbox/noperssion/NoPerssion'\nimport Offline from '../../views/sandbox/publish-manage/Offline'\nimport Published from '../../views/sandbox/publish-manage/Published'\nimport UnPublished from '../../views/sandbox/publish-manage/UnPublished'\nimport Review from '../../views/sandbox/review-manage/Review'\nimport ReviewList from '../../views/sandbox/review-manage/ReviewList'\nimport RightList from '../../views/sandbox/right-manage/RightList'\nimport RoleList from '../../views/sandbox/right-manage/RoleList'\nimport UserList from '../../views/sandbox/user-manage/UserList'\n\nconst LocalRouterMap = {\n    \"/home\": <Home />,\n    \"/user-manage/list\": <UserList />,\n    \"/right-manage/role/list\": <RoleList />,\n    \"/right-manage/right/list\": <RightList />,\n    \"/news-manage/add\": <NewsAdd />,\n    \"/news-manage/draft\": <NewsDraft />,\n    \"/news-manage/category\": <NewsCategory />,\n    \"/audit-manage/audit\":<Review />,\n    \"/audit-manage/list\": <ReviewList />,\n    \"/publish-manage/unpublished\": <UnPublished />,\n    \"/publish-manage/published\": <Published />,\n    \"/publish-manage/sunset\": <Offline />,\n}\n\nexport default function NewsRouter() {\n\n    const [backRouteList, setBackRouteList] = useState([])\n\n    useEffect(() => {\n        Promise.all([\n            axios.get(\"http://localhost:5000/rights\"),\n            axios.get(\"http://localhost:5000/children\")\n        ]).then(res => {\n            //console.log(res)\n            setBackRouteList([...res[0].data, ...res[1].data])\n\n        })\n    }, [])\n    //console.log(backRouteList)\n\n    const checkRoute = (item) => {\n        return LocalRouterMap[item.key] && item.pagepermisson\n    }\n\n    const checkUserPermission = () => {\n        return true\n    }\n\n    return (\n        // <Routes>\n        //     <Route path=\"/home\" element={<Home />} />\n        //     <Route path=\"/user-manage/list\" element={<UserList />} />\n        //     <Route path=\"/right-manage/role/list\" element={<RoleList />} />\n        //     <Route path=\"/right-manage/right/list\" element={<RightList />} />\n        //     {/* all other urls redirect to login page */}\n        //     <Route path=\"*\" element={<NoPerssion />} />\n        // </Routes>\n\n        <Routes>\n            {\n                backRouteList.map(item =>\n                    {\n                        if(checkRoute(item) && checkUserPermission()){\n                            return <Route path={item.key} key={item.key} element={LocalRouterMap[item.key]} />\n                        }\n                        return  <Route key={item.key} element={<NoPerssion />} />\n                    }\n                )\n            }\n            \n            {\n                backRouteList.length > 0 && <Route path=\"*\" element={<NoPerssion />} />\n            }\n        </Routes>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}